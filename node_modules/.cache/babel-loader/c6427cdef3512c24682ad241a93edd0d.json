{"ast":null,"code":"import _asyncToGenerator from \"/home/iamyerl/\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B/keloyna/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"regenerator-runtime/runtime.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport api from \"@/services/api\";\nimport router from \"@/router\";\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    playgrounds: [],\n    playground: null,\n    user: {},\n    login: false,\n    loginEr: \"\"\n  },\n  getters: {},\n  mutations: {\n    SET_PLAYGROUNDS: function SET_PLAYGROUNDS(state, playgrounds) {\n      state.playgrounds = playgrounds;\n    },\n    SET_PLAYGROUND: function SET_PLAYGROUND(state, playground) {\n      state.playground = playground;\n    },\n    LOGIN: function LOGIN(state, resp) {\n      // localStorage.setItem(\"token\", resp.access_token);\n      state.login = true;\n      console.log(resp);\n    },\n    REGISTER: function REGISTER(state, resp) {\n      console.log(resp);\n    }\n  },\n  actions: {\n    getPlaygrounds: function getPlaygrounds(_ref) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var commit;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                commit = _ref.commit;\n                _context.next = 3;\n                return api.get(\"https://keloyna.herokuapp.com/v1/api/playground/list\").then(function (res) {\n                  commit(\"SET_PLAYGROUNDS\", res.data);\n                  return res.data;\n                });\n\n              case 3:\n                return _context.abrupt(\"return\", _context.sent);\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getPlayground: function getPlayground(_ref2, playgroundId) {\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var commit;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                commit = _ref2.commit;\n                _context2.next = 3;\n                return api.get(\"https://keloyna.herokuapp.com/v1/api/playground/\".concat(playgroundId)).then(function (res) {\n                  console.log(res.data);\n                  commit(\"SET_PLAYGROUND\", res.data);\n                  return res.data;\n                });\n\n              case 3:\n                return _context2.abrupt(\"return\", _context2.sent);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    loginUser: function loginUser(_ref3, user) {\n      var _this = this;\n\n      var commit = _ref3.commit;\n      api.post(\"https://keloyna.herokuapp.com/v1/api/login\", {\n        phone: user.phone,\n        password: user.password\n      }).then(function (response) {\n        commit(\"LOGIN\", response.data.data);\n        console.log(\"Log in!\");\n      })[\"catch\"](function (error) {\n        console.log(\"Password or Phone number incorrect!\\n\");\n        console.log(\"\");\n        console.log(error);\n        _this.state.loginEr = \"Неправильный пароль !\";\n      });\n    },\n    registerUser: function registerUser(_ref4, user) {\n      var commit = _ref4.commit;\n      api.post(\"https://keloyna.herokuapp.com/v1/api/register\", {\n        email: user.phone,\n        password: user.password\n      }).then(function (response) {\n        commit(\"REGISTER\", response.data);\n      });\n    }\n  },\n  modules: {}\n});","map":{"version":3,"sources":["/home/iamyerl/Рабочий стол/keloyna/src/store/index.js"],"names":["Vue","Vuex","api","router","use","Store","state","playgrounds","playground","user","login","loginEr","getters","mutations","SET_PLAYGROUNDS","SET_PLAYGROUND","LOGIN","resp","console","log","REGISTER","actions","getPlaygrounds","commit","get","then","res","data","getPlayground","playgroundId","loginUser","post","phone","password","response","error","registerUser","email","modules"],"mappings":"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","sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport api from \"@/services/api\";\nimport router from \"@/router\";\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    playgrounds: [],\n    playground: null,\n    user: {},\n    login: false,\n    loginEr: \"\",\n  },\n  getters: {\n  },\n  mutations: {\n    SET_PLAYGROUNDS(state, playgrounds) {\n      state.playgrounds = playgrounds;\n    },\n    SET_PLAYGROUND(state, playground) {\n      state.playground = playground;\n    },\n    LOGIN(state, resp) {\n      // localStorage.setItem(\"token\", resp.access_token);\n      state.login = true;\n      console.log(resp)\n    },\n    REGISTER(state, resp) {\n      console.log(resp);\n    },\n  },\n  actions: {\n    async getPlaygrounds({ commit }) {\n      return await api.get(\"https://keloyna.herokuapp.com/v1/api/playground/list\").then((res) => {\n        commit(\"SET_PLAYGROUNDS\", res.data);\n        return res.data;\n\n      });\n    },\n    async getPlayground({ commit }, playgroundId) {\n      return await api.get(`https://keloyna.herokuapp.com/v1/api/playground/${playgroundId}`).then((res) => {\n        console.log(res.data)\n        commit(\"SET_PLAYGROUND\", res.data);\n        return res.data;\n      });\n    },\n    loginUser({ commit }, user) {\n      api\n          .post(\"https://keloyna.herokuapp.com/v1/api/login\", {\n            phone: user.phone,\n            password: user.password,\n          })\n          .then((response) => {\n            commit(\"LOGIN\", response.data.data);\n            console.log(\"Log in!\");\n          })\n          .catch((error) => {\n            console.log(\"Password or Phone number incorrect!\\n\");\n            console.log(\"\");\n            console.log(error);\n            this.state.loginEr = \"Неправильный пароль !\";\n          });\n    },\n    registerUser({ commit }, user) {\n      api\n          .post(\"https://keloyna.herokuapp.com/v1/api/register\", {\n            email: user.phone,\n            password: user.password,\n          })\n          .then((response) => {\n            commit(\"REGISTER\", response.data);\n          });\n    },\n  },\n  modules: {\n  }\n})\n"]},"metadata":{},"sourceType":"module"}