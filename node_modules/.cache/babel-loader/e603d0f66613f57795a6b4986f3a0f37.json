{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Header from \"@/components/organisms/Header\";\nexport default {\n  name: \"Login\",\n  components: {\n    Header: Header\n  },\n  data: function data() {\n    return {\n      phone: \"\",\n      password: \"\",\n      errors: [],\n      error: false\n    };\n  },\n  methods: {\n    login: function login() {\n      this.errors = [];\n\n      if (this.fromFilled === 'password') {\n        if (!this.password) {\n          this.errors.push(\"Неверный пароль !\");\n        }\n\n        if (!this.validPassword(this.password)) {\n          this.errors.push(\"Пароль должен состоять минимум из 6 символов или Неверный пароль !\");\n        }\n\n        if (!this.errors.length) {\n          this.$store.dispatch(\"loginUser\", {\n            phone: this.phone,\n            password: this.password\n          });\n        }\n\n        console.log(this.errors);\n      } else {\n        //\n        // if(!this.validEmail(this.email)) {\n        //   this.errors.push(\"Требуется действительный адрес электронной почты !\")\n        // }\n        if (!this.errors.length) {\n          this.fromFilled = 'password';\n        }\n\n        console.log(this.errors);\n      }\n    },\n    validEmail: function validEmail(email) {\n      var re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    },\n    validPassword: function validPassword(password) {\n      var containsUppercase = /[A-Z]/.test(password);\n      var containsLowercase = /[a-z]/.test(password);\n      var containsNumber = /[0-9]/.test(password);\n      var minLenght = password.length > 6;\n      return containsUppercase && containsLowercase && containsNumber && minLenght;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiCA;AACA;AACAA,eADA;AAEAC;AACAC;AADA,GAFA;AAKAC,MALA,kBAKA;AACA;AACAC,eADA;AAEAC,kBAFA;AAGAC,gBAHA;AAIAC;AAJA;AAMA,GAZA;AAaAC;AACAC,SADA,mBACA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;;AACA;AACA;AAAAL;AAAAC;AAAA;AACA;;AACAK;AACA,OAXA,MAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAA;AACA;AACA,KAzBA;AA0BAC;AACA;AACA;AACA,KA7BA;AA8BAC;AACA;AACA;AACA;AACA;AACA;AACA;AApCA;AAbA","names":["name","components","Header","data","phone","password","errors","error","methods","login","console","validEmail","validPassword"],"sourceRoot":"src/pages","sources":["Login.vue"],"sourcesContent":["<template>\n  <div>\n    <Header />\n    <div class=\"container\">\n      <div class=\"login_form\">\n        <h1 class=\"login_title\">Логин</h1>\n        <form action=\"\" onsubmit=\"return false\">\n          <input name=\"phone\"\n                 id=\"phone\"\n                 v-model=\"phone\"\n                 placeholder=\"Phone number\"\n                 type=\"text\"\n                 class=\"email\"\n          >\n          <input type=\"password\" placeholder=\"Пароль\" class=\"password\">\n          <span class=\"forget_password\">Забыли пароль?</span>\n          <button type=\"submit\"\n                  :disabled=\"!phone && !password\"\n                  :class=\"!phone && !password ?'disabled': ''\"\n                  @click=\"login\"\n                  class=\"login_btn\"\n          >\n            Войти\n          </button>\n          <p class=\"reg_text\">Еще нет аккаунта? <span><router-link to=\"/registration\">Регистрация</router-link></span></p>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Header from \"@/components/organisms/Header\";\nexport default {\n  name: \"Login\",\n  components: {\n    Header\n  },\n  data() {\n    return {\n      phone: \"\",\n      password: \"\",\n      errors: [],\n      error: false,\n    }\n  },\n  methods: {\n    login() {\n      this.errors = []\n      if(this.fromFilled === 'password') {\n        if(!this.password) {\n          this.errors.push(\"Неверный пароль !\")\n        }\n        if(!this.validPassword(this.password)) {\n          this.errors.push(\"Пароль должен состоять минимум из 6 символов или Неверный пароль !\")\n        }\n        if(!this.errors.length) {\n          this.$store.dispatch(\"loginUser\", { phone: this.phone, password: this.password});\n        }\n        console.log(this.errors)\n      }\n      else {\n        //\n        // if(!this.validEmail(this.email)) {\n        //   this.errors.push(\"Требуется действительный адрес электронной почты !\")\n        // }\n        if(!this.errors.length){\n          this.fromFilled = 'password';\n        }\n        console.log(this.errors)\n      }\n    },\n    validEmail: function (email) {\n      let re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      return re.test(email);\n    },\n    validPassword: function (password) {\n      const containsUppercase = /[A-Z]/.test(password)\n      const containsLowercase = /[a-z]/.test(password)\n      const containsNumber = /[0-9]/.test(password)\n      const minLenght = password.length > 6\n      return containsUppercase && containsLowercase && containsNumber && minLenght\n    },\n\n  },\n\n}\n</script>\n\n<style lang=\"scss\" scoped>\nsection.container {\n  height: 100%;\n  display: flex;\n  justify-items: center;\n  margin-top: 100px;\n\n}\n\n.container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100vh;\n}\n\n.login_form{\n  width: 400px;\n  height: 45%;\n  padding: 40px;\n  background: #fff;\n  display: flex;\n  flex-direction: column;\n  border-radius: 12px;\n}\n.login_form form {\n  display: flex;\n  flex-direction: column;\n}\n.login_title {\n  text-align: center;\n  font-weight: 500;\n  font-size: 32px;\n  line-height: 48px;\n  color: #00AADE;\n}\ninput {\n  padding: 20px 26px;\n  margin-bottom: 20px;\n  background: #FFFFFF;\n  border: 1px solid #D6D6D6;\n  box-sizing: border-box;\n  border-radius: 11px;\n  font-size: 20px;\n  outline-color: #00AADE;\n}\ninput::placeholder {\n  font-weight: 400;\n  font-size: 20px;\n  line-height: 28px;\n  color: #D6D6D6;\n}\n.email {\n}\n.forget_password {\n  font-weight: 400;\n  font-size: 15px;\n  line-height: 149.7%;\n  letter-spacing: 0.025em;\n  text-transform: capitalize;\n  cursor: pointer;\n  margin-bottom: 20px;\n  color: #00AADE;\n\n  text-align: right;\n}\n.reg_text {\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 27px;\n  color: #8E8D8D;\n  text-align: center;\n}\n.reg_text span a{\n  text-decoration: none;\n  color: #00AADE;\n}\n.login_btn {\n  margin: 0 auto;\n  background: #00AADE;\n  cursor: pointer;\n  border-radius: 22px;\n  border: none;\n  outline: none;\n  width: 214px;\n  padding: 10px 80px;\n  font-weight: 400;\n  font-size: 18px;\n  line-height: 149.7%;\n  letter-spacing: 0.025em;\n  text-transform: capitalize;\n  color: #FAFAFA;\n}\n.login_btn.disabled {\n  background-color: #7C7C7C;\n}\n\n@media screen and (max-width: 600px) {\n  .login_form {\n    width: 100%;\n    padding: 20px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 50%;\n  }\n  .login_form form {\n    width: 90%;\n  }\n}\n</style>"]},"metadata":{},"sourceType":"module"}